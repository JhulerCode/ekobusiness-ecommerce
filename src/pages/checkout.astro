---
import BaseLayout from '../layouts/BaseLayout.astro';
import CheckoutForm from '../components/CheckoutForm.vue';
import { get } from '../lib/api.js';

const res = await get('sistema', {
    qry: [
        'empresa',
        'documentos_identidad',
        'entrega_tipos',
        'comprobante_tipos',
        'pago_metodos',
    ],
});

if (res.code == 0) {
    var {
        empresa,
        documentos_identidad,
        entrega_tipos,
        comprobante_tipos,
        pago_metodos,
    } = res.data;
}
---

<BaseLayout title="Checkout">
    <CheckoutForm
        client:load
        empresa={empresa}
        pago_metodos={pago_metodos}
        documentos_identidad={documentos_identidad}
        entrega_tipos={entrega_tipos}
        comprobante_tipos={comprobante_tipos}
    />
</BaseLayout>
